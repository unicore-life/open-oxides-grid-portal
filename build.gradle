buildscript {
    repositories {
        mavenCentral()
    }
    dependencies {
        classpath 'org.springframework.boot:spring-boot-gradle-plugin:1.2.6.RELEASE',
                'io.spring.gradle:dependency-management-plugin:0.5.3.RELEASE'
    }
}

plugins {
    id 'java'
    id 'groovy'
    id 'checkstyle'
}
apply plugin: 'spring-boot'
apply plugin: 'io.spring.dependency-management'

dependencies {
    compile 'org.springframework.boot:spring-boot-starter',
            'org.springframework.boot:spring-boot-starter-undertow',
            'org.springframework.boot:spring-boot-starter-web',
            'org.springframework.boot:spring-boot-starter-thymeleaf',
//            'org.springframework.boot:spring-boot-starter-security',

            'org.apache.commons:commons-lang3:3.4',
            'org.springframework:spring-context-support:4.1.7.RELEASE',
            'net.sf.ehcache:ehcache:2.10.0',

            'org.webjars:bootstrap:3.3.5',
            'org.webjars:angularjs:1.4.4',
            'org.webjars:angular-feeds:0.0.3',
            'org.webjars:angular-ui-bootstrap:0.13.3',
            'org.webjars:nervgh-angular-file-upload:2.1.1',
//            'org.webjars.bower:spinkit:1.0.1',

            // for testing:
            'org.webjars.bower:mobile-angular-ui:1.2.0-beta.11',

//            'de.infinit:spring-boot-autoconfigure-wro4j:0.0.6',
//            'org.springframework.session:spring-session:1.0.1.RELEASE',
//            'org.springframework.security:spring-security-web:4.0.1.RELEASE',

            'eu.unicore.workflow:common:2.8.1',
            'eu.unicore:uas-client:1.9.3'

    testCompile 'org.springframework.boot:spring-boot-starter-test',
            'org.spockframework:spock-spring:1.0-groovy-2.4',
            'org.apache.httpcomponents:httpclient'
}

configurations {
    all*.exclude module: 'javax.servlet'
}

repositories {
    mavenCentral()
    maven { url 'http://unicore-dev.zam.kfa-juelich.de/maven' }
}

group = 'pl.plgrid.unicore.portal'
version = '1.1.0-SNAPSHOT'

sourceCompatibility = JavaVersion.VERSION_1_8
targetCompatibility = JavaVersion.VERSION_1_8

[compileJava, compileTestJava]*.options*.encoding = 'UTF-8'

mainClassName = 'pl.edu.icm.oxides.OxidesGridPortal'

task wrapper(type: Wrapper) {
    gradleVersion = '2.6'
}
